platform :ios, '17.0'

project 'AgentforceDemo.xcodeproj'
target 'AgentforceDemo' do
  source 'https://github.com/forcedotcom/SalesforceMobileSDK-iOS-Specs.git' 
  source 'https://github.com/livekit/podspecs.git'
  source 'https://cdn.cocoapods.org/'
  use_frameworks!

  pod 'AgentforceSDK', '14.7.6'
  pod 'Messaging-InApp-Core', '1.10.2'
  pod 'LiveKitClient', '2.9.0'
  pod 'Logging', '~> 1.4'
end

post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      config.build_settings['BUILD_LIBRARY_FOR_DISTRIBUTION'] = 'YES'
      # Fix deployment target warnings - ensure all pods use minimum iOS 17.0
      config.build_settings['IPHONEOS_DEPLOYMENT_TARGET'] = '17.0'
    end
  end
end